<!DOCTYPE html>
<html lang="uk" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags: TECHNICAL SEGMENT -->
    <title>Пряма інтеграція API Monobank + Checkbox | Script-Bridge</title>
    <meta name="description" content="Готовий Python/GAS скрипт для автоматичної фіскалізації транзакцій Monobank -> Checkbox. Без CRM, без абонплати. Впровадження за 3-5 днів.">
    <meta name="keywords" content="інтеграція монобанк checkbox, api monobank python, скрипт рро, автоматична фіскалізація, checkbox api google sheets">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T1NVVS2E0H"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T1NVVS2E0H');
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Toastify CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    
    <!-- reCAPTCHA -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareSourceCode",
      "name": "Mono-Checkbox Connector",
      "programmingLanguage": "Python, Google Apps Script",
      "description": "Middleware script for connecting Monobank Business API with Checkbox Fiscal API.",
      "offers": {
        "@type": "Offer",
        "price": "32000",
        "priceCurrency": "UAH"
      }
    }
    </script>

    <style>
        /* Tech/Dev Aesthetics */
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Inter:wght@300;400;600;700;800&display=swap');
        
        body { font-family: 'Inter', sans-serif; }
        .code-font { font-family: 'Fira Code', monospace; }
        
        /* Dark Theme Palettes */
        .dark-bg { background-color: #0f172a; } /* Slate 900 */
        .card-bg { background-color: #1e293b; } /* Slate 800 */
        
        /* Custom Utilities */
        input:required:invalid, select:required:invalid { border-color: #ef4444; }
        .glow-blue { box-shadow: 0 0 30px rgba(37, 99, 235, 0.15); }
        
        .step-bg-num { 
            position: absolute; 
            top: -15px; 
            left: 10px; 
            font-size: 5rem; 
            font-weight: 900; 
            color: rgba(255,255,255,0.03); 
            z-index: 0; 
            line-height: 1; 
            pointer-events: none; 
            font-family: 'Inter', sans-serif;
        }

        /* Syntax Highlight effect */
        .token-green { color: #10b981; }
        .token-blue { color: #3b82f6; }
        .token-purple { color: #a855f7; }
    </style>
</head>
<body class="dark-bg text-slate-300 selection:bg-blue-500 selection:text-white">

    <!-- Header -->
    <header class="fixed w-full z-50 bg-slate-900/90 backdrop-blur-md border-b border-slate-800">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-xl font-black tracking-tighter text-white uppercase leading-none font-mono">&lt;VCHASNO /&gt;</span>
                <span class="text-[9px] uppercase tracking-widest text-blue-500 font-bold mt-1 code-font">System.Integrator</span>
            </div>
            <a href="#form-section" class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded font-bold text-sm transition shadow-lg shadow-blue-500/20 hidden sm:block uppercase tracking-tight font-mono">
                Get_Specification()
            </a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="relative pt-32 pb-24 lg:pt-48 lg:pb-40 overflow-hidden border-b border-slate-800">
            <div class="container mx-auto px-6 relative z-10">
                <div class="max-w-4xl">
                    <div class="inline-flex items-center gap-2 bg-blue-500/10 text-blue-400 border border-blue-500/20 px-3 py-1.5 rounded text-xs font-bold mb-8 uppercase tracking-widest code-font">
                        <i class="fa-solid fa-code-branch"></i> v1.2_stable_build
                    </div>
                    <h1 class="text-3xl md:text-6xl font-black leading-[1.1] mb-8 tracking-tight text-white">
                        Пряма інтеграція API <br>
                        <span class="text-blue-500 code-font">Monobank</span> <i class="fa-solid fa-arrow-right-long text-slate-600 mx-2 text-4xl"></i> <span class="text-emerald-500 code-font">Checkbox</span>
                    </h1>
                    <p class="text-lg md:text-xl text-slate-400 mb-10 max-w-2xl leading-relaxed">
                        Автоматичний фіскалізатор IBAN-платежів. Працює як Middleware-скрипт (Python/GAS). 
                        <span class="text-white font-bold">Без CRM. Без абонплати. Без "людського фактору".</span>
                    </p>
                    <div class="flex flex-col sm:flex-row gap-5">
                        <a href="#form-section" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded font-bold text-lg transition shadow-xl shadow-blue-900/40 text-center uppercase tracking-tighter flex items-center justify-center gap-3">
                            <i class="fa-solid fa-terminal text-sm"></i> Розгорнути рішення
                        </a>
                        <div class="flex items-center gap-4 px-6 py-4 bg-slate-800 border border-slate-700 rounded">
                            <i class="fa-brands fa-python text-3xl text-yellow-400"></i>
                            <i class="fa-brands fa-google text-2xl text-white"></i>
                            <div class="h-8 w-px bg-slate-600 mx-2"></div>
                            <span class="text-sm font-semibold text-slate-300 code-font">Deploy: 3-5 days</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Background Code Effect -->
            <div class="absolute right-0 top-20 opacity-10 pointer-events-none hidden lg:block text-slate-500 code-font text-sm whitespace-pre">
def fiscalize_transaction(tx):
    if tx.amount > 0:
        check = checkbox.create_receipt(
            amount=tx.amount,
            goods=tx.description
        )
        return check.id
            </div>
        </section>

        <!-- Problem Section -->
        <section class="py-24 bg-slate-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-20">
                    <h2 class="text-2xl md:text-4xl font-black mb-4 uppercase italic text-white">Технічний борг = Збитки</h2>
                    <p class="text-slate-500">Чому готові CRM не вирішують проблему?</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Card 1 -->
                    <div class="p-8 card-bg border border-slate-700 rounded-2xl group hover:border-blue-500 transition duration-300">
                        <div class="w-12 h-12 bg-slate-700 rounded flex items-center justify-center mb-6 text-blue-400 text-xl">
                            <i class="fa-solid fa-sack-dollar"></i>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Overpriced CRM</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Платити $500/рік за CRM тільки заради того, щоб вона смикала API Чекбокса? Це нераціональне використання бюджету.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="p-8 card-bg border border-slate-700 rounded-2xl group hover:border-blue-500 transition duration-300">
                        <div class="w-12 h-12 bg-slate-700 rounded flex items-center justify-center mb-6 text-red-400 text-xl">
                            <i class="fa-solid fa-bug"></i>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Ручний CSV Імпорт</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">Експорт виписки -> Конвертація -> Імпорт. Це "милиця", яка ламається, коли банк змінює формат колонок. Наш скрипт працює через API.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="p-8 card-bg border border-slate-700 rounded-2xl group hover:border-blue-500 transition duration-300">
                        <div class="w-12 h-12 bg-slate-700 rounded flex items-center justify-center mb-6 text-emerald-400 text-xl">
                            <i class="fa-solid fa-triangle-exclamation"></i>
                        </div>
                        <h3 class="text-lg font-bold mb-3 text-white uppercase tracking-tight">Відсутність "Моста"</h3>
                        <p class="text-slate-400 text-sm leading-relaxed">У Monobank немає кнопки "Надіслати в Checkbox". Вам потрібен коннектор, який слухає Webhook і виконує дію.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Solution Architecture -->
        <section id="solution" class="py-24 border-y border-slate-800 bg-slate-900 overflow-hidden relative">
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-5"></div>
            <div class="container mx-auto px-6 relative z-10">
                <div class="grid lg:grid-cols-2 gap-16 items-center">
                    <div>
                        <div class="text-blue-500 font-bold code-font mb-4 text-sm">&lt;ARCHITECTURE /&gt;</div>
                        <h2 class="text-3xl md:text-5xl font-black mb-10 leading-tight uppercase text-white">API Bridge <br><span class="text-slate-500">Logic</span></h2>
                        
                        <div class="space-y-6">
                            <div class="flex gap-5 group">
                                <div class="w-10 h-10 rounded bg-blue-900/50 border border-blue-500/30 flex items-center justify-center shrink-0 text-blue-400 code-font text-sm font-bold">01</div>
                                <div>
                                    <strong class="text-white block text-lg mb-1 code-font">Webhook Listener</strong>
                                    <p class="text-slate-400 text-sm">Скрипт "слухає" ваш рахунок ФОП. Реакція на вхідний платіж — 1-2 секунди.</p>
                                </div>
                            </div>
                            <div class="flex gap-5 group">
                                <div class="w-10 h-10 rounded bg-blue-900/50 border border-blue-500/30 flex items-center justify-center shrink-0 text-blue-400 code-font text-sm font-bold">02</div>
                                <div>
                                    <strong class="text-white block text-lg mb-1 code-font">Data Parsing & Logic</strong>
                                    <p class="text-slate-400 text-sm">Система перевіряє коментар платежу (RegEx). Якщо це повернення коштів чи особисті кошти — чек не створюється.</p>
                                </div>
                            </div>
                            <div class="flex gap-5 group">
                                <div class="w-10 h-10 rounded bg-blue-900/50 border border-blue-500/30 flex items-center justify-center shrink-0 text-blue-400 code-font text-sm font-bold">03</div>
                                <div>
                                    <strong class="text-white block text-lg mb-1 code-font">Fiscalization Request</strong>
                                    <p class="text-slate-400 text-sm">Формування JSON-тіла чека та відправка POST-запиту на API Checkbox.</p>
                                </div>
                            </div>
                            <div class="flex gap-5 group">
                                <div class="w-10 h-10 rounded bg-emerald-900/50 border border-emerald-500/30 flex items-center justify-center shrink-0 text-emerald-400 code-font text-sm font-bold">04</div>
                                <div>
                                    <strong class="text-white block text-lg mb-1 code-font">Logging & Alerting</strong>
                                    <p class="text-slate-400 text-sm">Результат записується в Google Sheet. Якщо помилка — адмін отримує алерт в Telegram.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Diagram -->
                    <div class="bg-slate-800 border border-slate-700 p-8 rounded-3xl shadow-2xl relative">
                        <div class="flex flex-col gap-6">
                            <!-- Mono Node -->
                            <div class="flex items-center justify-between bg-slate-900 p-4 rounded-xl border border-slate-700">
                                <div class="flex items-center gap-3">
                                    <i class="fa-solid fa-bank text-white"></i>
                                    <span class="text-white font-bold code-font">Monobank API</span>
                                </div>
                                <span class="text-[10px] text-blue-400 font-mono">POST /webhook</span>
                            </div>
                            
                            <!-- Arrow -->
                            <div class="flex justify-center h-8 relative">
                                <div class="absolute w-0.5 h-full bg-slate-600"></div>
                                <div class="absolute bottom-0 text-slate-500 text-xs bg-slate-800 px-2">JSON Payload</div>
                            </div>

                            <!-- Script Node -->
                            <div class="bg-blue-600/10 p-6 rounded-xl border border-blue-500/50 text-center relative overflow-hidden">
                                <div class="absolute top-2 right-3 text-[10px] text-blue-400 font-mono">run()</div>
                                <i class="fa-brands fa-python text-4xl text-blue-500 mb-2"></i>
                                <div class="text-white font-bold mb-1">Controller Script</div>
                                <div class="text-slate-400 text-xs code-font">Google Apps Script / Python</div>
                            </div>

                            <!-- Arrow -->
                            <div class="flex justify-center h-8 relative">
                                <div class="absolute w-0.5 h-full bg-slate-600"></div>
                                <div class="absolute bottom-0 text-emerald-500 text-xs bg-slate-800 px-2">Create Receipt</div>
                            </div>

                            <!-- Checkbox Node -->
                            <div class="flex items-center justify-between bg-slate-900 p-4 rounded-xl border border-emerald-500/30">
                                <div class="flex items-center gap-3">
                                    <i class="fa-solid fa-receipt text-emerald-500"></i>
                                    <span class="text-white font-bold code-font">Checkbox API</span>
                                </div>
                                <span class="text-[10px] text-emerald-400 font-mono">HTTP 201 Created</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing / Compare -->
        <section id="pricing" class="py-24 bg-slate-950 border-t border-slate-800">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto text-center mb-16">
                    <h2 class="text-3xl md:text-5xl font-black mb-8 uppercase leading-tight italic text-white">Setup Fee <span class="text-slate-600">vs</span> Subscription</h2>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <!-- Standard SaaS -->
                    <div class="p-10 bg-slate-900 border border-slate-800 rounded-3xl opacity-60 hover:opacity-100 transition">
                        <h4 class="text-slate-400 font-bold uppercase text-xs tracking-widest mb-6 code-font">Стандартна CRM (SaaS)</h4>
                        <div class="text-3xl font-black text-slate-300 mb-6 font-mono">~ 18 000 ГРН <span class="text-sm font-normal text-slate-500">/ рік</span></div>
                        <ul class="space-y-4 text-sm text-slate-500 mb-8 code-font">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-xmark text-red-500"></i> Vendor Lock-in</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-xmark text-red-500"></i> Чужий код / сервери</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-xmark text-red-500"></i> Платите вічно</li>
                        </ul>
                    </div>
                    
                    <!-- Our Solution -->
                    <div class="p-10 bg-blue-900/20 border border-blue-500 rounded-3xl relative overflow-hidden glow-blue">
                        <div class="absolute top-0 right-0 bg-blue-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl uppercase tracking-widest">Recommended</div>
                        <h4 class="text-blue-400 font-bold uppercase text-xs tracking-widest mb-6 code-font">API Connector Script</h4>
                        <div class="text-4xl font-black text-white mb-6 font-mono">32 000 ГРН <span class="text-sm font-normal text-slate-400">/ разово</span></div>
                        <p class="text-slate-300 text-sm mb-8 leading-relaxed">
                            Ви отримуєте код у свою власність. Розгортаємо на вашому акаунті. Ніяких щомісячних платежів за скрипт.
                        </p>
                        <ul class="space-y-4 text-sm text-slate-300 mb-8 code-font">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-blue-500"></i> Open Source (для вас)</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-blue-500"></i> Працює на безкоштовних лімітах Google</li>
                        </ul>
                        <a href="#form-section" class="block w-full bg-blue-600 text-white text-center py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-blue-500 transition font-mono">
                            Отримати специфікацію
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Form Section -->
        <section id="form-section" class="py-24 relative overflow-hidden bg-slate-900 border-t border-slate-800">
            <div class="container mx-auto px-6">
                <div class="max-w-5xl mx-auto flex flex-col lg:flex-row bg-slate-800 rounded-3xl overflow-hidden border border-slate-700 shadow-2xl relative">
                    <!-- Terminal Info Side -->
                    <div class="lg:w-5/12 p-10 bg-slate-950 text-slate-400 font-mono text-sm relative border-r border-slate-700">
                        <div class="mb-6 flex gap-2">
                            <div class="w-3 h-3 rounded-full bg-red-500"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        </div>
                        <div class="space-y-4">
                            <p><span class="text-green-400">user@admin:~$</span> ./check_requirements.sh</p>
                            <p>> Checking Monobank API Access... <span class="text-green-400">OK</span></p>
                            <p>> Checking Checkbox License... <span class="text-green-400">OK</span></p>
                            <p>> Ready for deployment.</p>
                            <br>
                            <p class="text-white font-bold">/// WHAT YOU GET:</p>
                            <ul class="list-disc pl-5 space-y-2 text-slate-500">
                                <li>Source Code (GAS/Python)</li>
                                <li>Config File (JSON)</li>
                                <li>Setup Documentation</li>
                                <li>14 Days Support</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Right Form Side -->
                    <div class="lg:w-7/12 p-10 lg:p-12 bg-slate-800">
                        <h3 class="text-2xl font-black mb-6 text-white uppercase tracking-tight">Запит на інтеграцію</h3>
                        <form id="leadForm" class="space-y-5">
                            <input type="hidden" name="pageid" id="pageidInput">
                            
                            <!-- SEGMENT IDENTIFIER -->
                            <input type="hidden" name="source_info" value="monobank_checkbox_api_integration">

                            <div class="grid md:grid-cols-2 gap-5">
                                <div class="space-y-1">
                                    <label class="text-[10px] font-bold text-slate-500 uppercase tracking-widest code-font">Contact Name</label>
                                    <input type="text" name="name" required placeholder="Ім'я / Прізвище" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-white">
                                </div>
                                <div class="space-y-1">
                                    <label class="text-[10px] font-bold text-slate-500 uppercase tracking-widest code-font">Email</label>
                                    <input type="email" name="email" required placeholder="name@company.com" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-white">
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-5">
                                <input type="tel" name="phone" id="phoneInput" required placeholder="+380..." class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-white">
                                <input type="text" name="telegram" placeholder="@telegram_username" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-white">
                            </div>

                            <!-- Tech Stack Preference -->
                            <div class="space-y-1">
                                <label class="text-[10px] font-bold text-slate-500 uppercase tracking-widest code-font">Preferred Environment</label>
                                <select name="service" required class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none transition appearance-none cursor-pointer text-sm text-white font-mono">
                                    <option value="Google Apps Script">Google Apps Script (Cloud / No Server)</option>
                                    <option value="Python">Python (VPS / Heroku)</option>
                                    <option value="Unknown">Не знаю, порадьте краще</option>
                                </select>
                            </div>

                            <textarea name="task" rows="2" placeholder="Додаткові вимоги (наприклад: 'потрібно фільтрувати платежі з коментарем Бронь')" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none transition text-sm text-white"></textarea>

                            <div class="pt-2">
                                <div class="g-recaptcha" data-sitekey="6LfMjDYsAAAAAJmEyqg5PKj6RqinCp3b76-PGw0Z"></div>
                            </div>

                            <button type="submit" class="w-full bg-blue-600 text-white font-bold py-4 rounded-lg hover:bg-blue-500 transition-all uppercase tracking-widest text-sm shadow-lg shadow-blue-500/20 font-mono">
                                > Send Request
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section class="py-24 bg-slate-950 border-t border-slate-800">
            <div class="container mx-auto px-6 max-w-4xl">
                <h2 class="text-2xl font-black mb-12 text-center uppercase tracking-tight text-slate-400">FAQ <span class="text-slate-600">//</span> Technical</h2>
                <div class="space-y-4">
                    <details class="group bg-slate-900 border border-slate-800 rounded-xl p-6 cursor-pointer">
                        <summary class="flex justify-between items-center font-bold text-slate-300 list-none font-mono text-sm">
                            Чи потрібен мені сервер для Google Apps Script?
                            <i class="fa-solid fa-chevron-down group-open:rotate-180 transition text-blue-500"></i>
                        </summary>
                        <p class="mt-4 text-slate-500 text-sm leading-relaxed">Ні. Google Apps Script виконується на серверах Google безкоштовно (в межах лімітів Workspace, яких достатньо для 99% ФОП). Це найбільш економний варіант.</p>
                    </details>
                    <details class="group bg-slate-900 border border-slate-800 rounded-xl p-6 cursor-pointer">
                        <summary class="flex justify-between items-center font-bold text-slate-300 list-none font-mono text-sm">
                            Безпека API ключів?
                            <i class="fa-solid fa-chevron-down group-open:rotate-180 transition text-blue-500"></i>
                        </summary>
                        <p class="mt-4 text-slate-500 text-sm leading-relaxed">Ключі зберігаються у `ScriptProperties` вашого проекту, доступ до яких маєте тільки ви. Ми не зберігаємо ваші ключі після передачі проекту.</p>
                    </details>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-950 text-slate-600 py-12 border-t border-slate-800 font-mono text-xs">
        <div class="container mx-auto px-6 text-center">
            <div class="mb-8">
                <span class="text-white font-bold">&lt;VCHASNO /&gt;</span> Automation Studio
            </div>
            <div class="text-slate-700">
                &copy; 2026 VCHASNO. All systems operational.
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Unique ID Generation
            const pageidInput = document.getElementById('pageidInput');
            if (pageidInput) {
                pageidInput.value = crypto.randomUUID();
            }

            // Phone Input Mask
            const phoneInput = document.getElementById('phoneInput');
            phoneInput.addEventListener('input', (e) => {
                let val = e.target.value.replace(/\D/g, '');
                if (val.length > 12) val = val.slice(0, 12);
                e.target.value = val;
            });

            // Form Submission
            document.getElementById('leadForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const captchaResponse = grecaptcha.getResponse();
                if (!captchaResponse) {
                    showToast('error', 'Please complete CAPTCHA');
                    return;
                }

                const btn = this.querySelector('button[type="submit"]');
                const originalText = btn.innerText;
                btn.disabled = true;
                btn.innerText = 'PROCESSING...';

                const formData = new FormData(this);
                const rawPhone = formData.get('phone').replace(/\D/g, ''); 
                
                const params = new URLSearchParams(formData);
                params.set('phone', rawPhone);
                
                if (!params.has('g-recaptcha-response')) {
                    params.append('g-recaptcha-response', captchaResponse);
                }

                const scriptURL = "https://script.google.com/macros/s/AKfycbzjaOR3IlxQGtHYxz1EK2KOfYcVb_bdp4EPe5NKKG3LR4Uad3G9-2UdJjdrtuyS1962OA/exec";

                fetch(`${scriptURL}?${params.toString()}`, {
                    method: 'GET',
                    mode: 'cors'
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 200 || (data.result && data.result.includes('Success'))) {
                        showToast('success', 'Request Sent! Check your email/telegram.');
                        if (window.dataLayer) {
                            window.dataLayer.push({'event': 'form_submission_success', 'form_type': 'lead_tech'});
                        }
                        this.reset();
                        grecaptcha.reset(); 
                    } else {
                        showToast('error', 'Error: ' + (data.result || 'Server timeout'));
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                    showToast('error', 'Connection failed.');
                })
                .finally(() => {
                    btn.disabled = false;
                    btn.innerText = originalText;
                });
            });

            function showToast(type, message) {
                Toastify({
                    text: message,
                    duration: 5000,
                    gravity: "bottom",
                    position: "center",
                    style: {
                        background: type === 'success' ? "#2563eb" : "#ef4444",
                        borderRadius: "8px",
                        fontFamily: "Fira Code, monospace",
                        fontSize: "12px"
                    }
                }).showToast();
            }
        });
    </script>
</body>
</html>